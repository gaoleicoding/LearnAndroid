apply plugin: 'com.android.library'
//使用greendao
apply plugin: 'org.greenrobot.greendao'
apply plugin: 'com.jakewharton.butterknife'
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-android-extensions'
apply plugin: 'kotlin-kapt'
android {
    compileSdkVersion rootProject.ext.android.compileSdkVersion
    defaultConfig {
        minSdkVersion rootProject.ext.android.minSdkVersion
        targetSdkVersion rootProject.ext.android.targetSdkVersion

        testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
        javaCompileOptions {
            annotationProcessorOptions {
                arguments = [eventBusIndex: 'com.android.learn.MyEventBusIndex']
            }
        }
    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }
    greendao {
        schemaVersion 1                         //数据库版本号，如果数据库需要升级，直接在此修改版本号即可
        daoPackage 'com.android.learn.base.greendao.gen'      //dao包名，默认是entity所在的包
        targetGenDir 'src/main/java'            //数据库文件的目录
    }

    //执行lint检查，有任何的错误或者警告提示，都会终止构建
    lintOptions {
        abortOnError false
    }
//    sourceSets {
//        main {
//            //jni库的调用会到资源文件夹下libs里面找so文件,对于so文件，android studio理论上是要求放置在一个jniLibs文件夹下的，这样程序才能够找到要所依赖的so文件
//            jniLibs.srcDirs = ['libs']
//        }
//    }
    compileOptions {
        targetCompatibility JavaVersion.VERSION_1_8
    }
}
dependencies {
    api fileTree(include: ['*.jar'], dir: 'libs')
    api rootProject.ext.dependencies.appcompatV7
    api rootProject.ext.dependencies.design
    api rootProject.ext.dependencies.cardview
    api rootProject.ext.dependencies["constraint-layout"]
    api fileTree(include: ['*.jar'], dir: 'libs')
    api "org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version"

    //okhttp retrofit
    api rootProject.ext.dependencies["okhttp3"]
    api rootProject.ext.dependencies["retrofit"]
    api rootProject.ext.dependencies["retrofit-converter-gson"]

    //butterknife
    api rootProject.ext.dependencies["butterknife"]
    kapt rootProject.ext.dependencies["butterknife-compiler"]

    // glide
    api rootProject.ext.dependencies["glide"]
    kapt rootProject.ext.dependencies["glide-compiler"]

    // banner
    api rootProject.ext.dependencies["banner"]

    // rxjava
    api rootProject.ext.dependencies["rxjava"]
    api rootProject.ext.dependencies["rxandroid"]
    api rootProject.ext.dependencies["retrofit2:adapter-rxjava2"]

    // dagger2
    api rootProject.ext.dependencies["dagger"]
    kapt rootProject.ext.dependencies["dagger-compiler"]

    // eventbus
    api rootProject.ext.dependencies["event-bus"]
    kapt rootProject.ext.dependencies["eventbus-annotation-processor"]

    // BlockCanary进行卡顿监控和提示

    //        debugImplementation rootProject.ext.dependencies["blockcanary-android"]

    //        releaseImplementation rootProject.ext.dependencies["blockcanary-no-op"]

    //        //LeakCanary

    //        debugImplementation rootProject.ext.dependencies["leakcanary-android"]

    //        releaseImplementation rootProject.ext.dependencies["leakcanary-android-no-op"]

    // Optional, if you use support library fragments:

    //        debugImplementation 'com.squareup.leakcanary:leakcanary-support-fragment:1.6.1'

    //okhttp保存cookie
    api rootProject.ext.dependencies["PersistentCookieJar"]

    //下拉刷新框架
    api rootProject.ext.dependencies["SmartRefreshLayout"]
    api rootProject.ext.dependencies["SmartRefreshHeader"]

    //RecyclerView万能适配器
    api rootProject.ext.dependencies["BaseRecyclerViewAdapterHelper"]

    //友盟统计
    api rootProject.ext.dependencies["umeng-common"]
    api rootProject.ext.dependencies["umeng-analytics"]

    //崩溃自定义跳转界面
    api rootProject.ext.dependencies["customactivityoncrash"]

    //    知识点模块的旋转效果
    api rootProject.ext.dependencies["infinitecycleviewpager"]

    //    首页欢迎的SVGA动效
    api rootProject.ext.dependencies["SVGAPlayer-Android"]

    //    搜索页的flow标签
    api rootProject.ext.dependencies["flowlayout"]

    //    搜索历史使用的数据库框架
    api rootProject.ext.dependencies["greendao"]

    //    activity滑动消失框架
    api rootProject.ext.dependencies["bga-swipebacklayout"]

    // StatusUtil 沉浸式状态栏
    api('com.jaeger.statusbarutil:library:1.4.0') {
        exclude group: 'com.android.support', module: 'recyclerview-v7'
    }

    //   换肤框架，不必重启应用
    api 'com.windysha.xskinloader:xskinloader:0.1.0'
    api 'com.android.support:multidex:1.0.3'
}
